nov_17<-read_excel("data/INGRESO TERMAS GESTION RACEDO/ANIO 2017.xlsx",sheet = 12,range ="A4:I35" )%>%
mutate(MES="NOVIEMBRE")
dic_17<-read_excel("data/INGRESO TERMAS GESTION RACEDO/ANIO 2017.xlsx",sheet = 13,range ="A4:I35" )%>%
mutate(MES="DICIEMBRE")
A2017<-rbindlist(list(ene_17,feb_17,mar_17,abr_17,may_17,jun_17,jul_17,ago_17,sep_17,oct_17,nov_17,dic_17)) %>%
filter(FECHA>=1) %>%                                     #procedimiento para borrar filas innecesarias
mutate(ANIO=as.factor("2017")) %>%                        #AGREGO AÑO
relocate(ANIO,.before =DIA) %>%
relocate(MES,.before=DIA)%>%
mutate(ONLINE=NA) %>%                        #agrego online
relocate(ONLINE,.after=ACUATICO)
#2016
ene_16<-read_excel("data/INGRESO TERMAS GESTION RACEDO/ANIO 2016.xlsx",sheet = 2,range ="A4:I35" )%>%
mutate(MES="ENERO")
feb_16<-read_excel("data/INGRESO TERMAS GESTION RACEDO/ANIO 2016.xlsx",sheet = 3,range ="A4:I35" )%>%
mutate(MES="FEBRERO")
mar_16<-read_excel("data/INGRESO TERMAS GESTION RACEDO/ANIO 2016.xlsx",sheet = 4,range ="A4:I35" )%>%
mutate(MES="MARZO")
abr_16<-read_excel("data/INGRESO TERMAS GESTION RACEDO/ANIO 2016.xlsx",sheet = 5,range ="A4:I35" )%>%
mutate(MES="ABRIL")
may_16<-read_excel("data/INGRESO TERMAS GESTION RACEDO/ANIO 2016.xlsx",sheet = 6,range ="A4:I35" )%>%
mutate(MES="MAYO")
jun_16<-read_excel("data/INGRESO TERMAS GESTION RACEDO/ANIO 2016.xlsx",sheet = 7,range ="A4:I35" )%>%
mutate(MES="JUNIO")
jul_16<-read_excel("data/INGRESO TERMAS GESTION RACEDO/ANIO 2016.xlsx",sheet = 8,range ="A4:I35" )%>%
mutate(MES="JULIO")
ago_16<-read_excel("data/INGRESO TERMAS GESTION RACEDO/ANIO 2016.xlsx",sheet = 9,range ="A4:I35" )%>%
mutate(MES="AGOSTO")
sep_16<-read_excel("data/INGRESO TERMAS GESTION RACEDO/ANIO 2016.xlsx",sheet = 10,range ="A4:I35" )%>%
mutate(MES="SEPTIEMBRE")
oct_16<-read_excel("data/INGRESO TERMAS GESTION RACEDO/ANIO 2016.xlsx",sheet = 11,range ="A4:I35" )%>%
mutate(MES="OCTUBRE")
nov_16<-read_excel("data/INGRESO TERMAS GESTION RACEDO/ANIO 2016.xlsx",sheet = 12,range ="A4:I35" )%>%
mutate(MES="NOVIEMBRE")
dic_16<-read_excel("data/INGRESO TERMAS GESTION RACEDO/ANIO 2016.xlsx",sheet = 13,range ="A4:I35" )%>%
mutate(MES="DICIEMBRE")
A2016<-rbindlist(list(ene_16,feb_16,mar_16,abr_16,may_16,jun_16,jul_16,ago_16,sep_16,oct_16,nov_16,dic_16)) %>%
filter(FECHA>=1) %>%                                     #procedimiento para borrar filas innecesarias
mutate(ANIO=as.factor("2016")) %>%                        #AGREGO AÑO
relocate(ANIO,.before =DIA) %>%
relocate(MES,.before=DIA)%>%
mutate(ONLINE=NA) %>%                        #agrego online
relocate(ONLINE,.after=ACUATICO)
#2015
ene_15<-read_excel("data/INGRESO TERMAS GESTION RACEDO/ANIO 2015.xlsx",sheet = 2,range ="A4:H35" )%>%
mutate(MES="ENERO")
feb_15<-read_excel("data/INGRESO TERMAS GESTION RACEDO/ANIO 2015.xlsx",sheet = 3,range ="A4:H35" )%>%
mutate(MES="FEBRERO")
mar_15<-read_excel("data/INGRESO TERMAS GESTION RACEDO/ANIO 2015.xlsx",sheet = 4,range ="A4:H35" )%>%
mutate(MES="MARZO")
abr_15<-read_excel("data/INGRESO TERMAS GESTION RACEDO/ANIO 2015.xlsx",sheet = 5,range ="A4:H35" )%>%
mutate(MES="ABRIL")
may_15<-read_excel("data/INGRESO TERMAS GESTION RACEDO/ANIO 2015.xlsx",sheet = 6,range ="A4:H35" )%>%
mutate(MES="MAYO")
jun_15<-read_excel("data/INGRESO TERMAS GESTION RACEDO/ANIO 2015.xlsx",sheet = 7,range ="A4:H35" )%>%
mutate(MES="JUNIO")
jul_15<-read_excel("data/INGRESO TERMAS GESTION RACEDO/ANIO 2015.xlsx",sheet = 8,range ="A4:H35" )%>%
mutate(MES="JULIO")
ago_15<-read_excel("data/INGRESO TERMAS GESTION RACEDO/ANIO 2015.xlsx",sheet = 9,range ="A4:H35" )%>%
mutate(MES="AGOSTO")
sep_15<-read_excel("data/INGRESO TERMAS GESTION RACEDO/ANIO 2015.xlsx",sheet = 10,range ="A4:H35" )%>%
mutate(MES="SEPTIEMBRE")
oct_15<-read_excel("data/INGRESO TERMAS GESTION RACEDO/ANIO 2015.xlsx",sheet = 11,range ="A4:H35" )%>%
mutate(MES="OCTUBRE")
nov_15<-read_excel("data/INGRESO TERMAS GESTION RACEDO/ANIO 2015.xlsx",sheet = 12,range ="A4:H35" )%>%
mutate(MES="NOVIEMBRE")
##ACA SE AGREGA LA ENTRADA POR PARQUE ACUATICO
dic_15<-read_excel("data/INGRESO TERMAS GESTION RACEDO/ANIO 2015.xlsx",sheet = 13,range ="A4:I35" )%>%
mutate(MES="DICIEMBRE")%>%
filter(FECHA>=1) %>%
mutate(ANIO=as.factor("2015")) %>%
relocate(ANIO,.before =DIA) %>%
relocate(MES,.before=DIA)%>%
mutate(ONLINE=NA,.after=ACUATICO)             #fue necesario hacer todo esto para combinar bien
A2015<-rbindlist(list(ene_15,feb_15,mar_15,abr_15,may_15,jun_15,jul_15,ago_15,sep_15,oct_15,nov_15)) %>%
filter(FECHA>=1) %>%
mutate(ANIO=as.factor("2015")) %>%
relocate(ANIO,.before =DIA) %>%
relocate(MES,.before=DIA)%>%
mutate(ACUATICO=NA) %>%
relocate(ACUATICO,.after=NORTE) %>%
mutate(ONLINE=NA,.after=ACUATICO) %>%
rbind(dic_15)                                #recien aca sumo diciembre
#2014
ene_14<-read_excel("data/INGRESO TERMAS GESTION RACEDO/ANIO 2014.xlsx",sheet = 2,range ="A4:H35" )%>%
mutate(MES="ENERO")
feb_14<-read_excel("data/INGRESO TERMAS GESTION RACEDO/ANIO 2014.xlsx",sheet = 3,range ="A4:H35" )%>%
mutate(MES="FEBRERO")
mar_14<-read_excel("data/INGRESO TERMAS GESTION RACEDO/ANIO 2014.xlsx",sheet = 4,range ="A4:H35" )%>%
mutate(MES="MARZO")
abr_14<-read_excel("data/INGRESO TERMAS GESTION RACEDO/ANIO 2014.xlsx",sheet = 5,range ="A4:H35" )%>%
mutate(MES="ABRIL")
may_14<-read_excel("data/INGRESO TERMAS GESTION RACEDO/ANIO 2014.xlsx",sheet = 6,range ="A4:H35" )%>%
mutate(MES="MAYO")
jun_14<-read_excel("data/INGRESO TERMAS GESTION RACEDO/ANIO 2014.xlsx",sheet = 7,range ="A4:H35" )%>%
mutate(MES="JUNIO")
jul_14<-read_excel("data/INGRESO TERMAS GESTION RACEDO/ANIO 2014.xlsx",sheet = 8,range ="A4:H35" )%>%
mutate(MES="JULIO")
ago_14<-read_excel("data/INGRESO TERMAS GESTION RACEDO/ANIO 2014.xlsx",sheet = 9,range ="A4:H35" )%>%
mutate(MES="AGOSTO")
sep_14<-read_excel("data/INGRESO TERMAS GESTION RACEDO/ANIO 2014.xlsx",sheet = 10,range ="A4:H35") %>%
mutate(MES="SEPTIEMBRE")
oct_14<-read_excel("data/INGRESO TERMAS GESTION RACEDO/ANIO 2014.xlsx",sheet = 11,range ="A4:H35" )%>%
mutate(MES="OCTUBRE")
nov_14<-read_excel("data/INGRESO TERMAS GESTION RACEDO/ANIO 2014.xlsx",sheet = 12,range ="A4:H35" )%>%
mutate(MES="NOVIEMBRE")
dic_14<-read_excel("data/INGRESO TERMAS GESTION RACEDO/ANIO 2014.xlsx",sheet = 13,range ="A4:H35" )%>%
mutate(MES="DICIEMBRE")
A2014<-rbindlist(list(ene_14,feb_14,mar_14,abr_14,may_14,jun_14,jul_14,ago_14,sep_14,oct_14,nov_14,dic_14)) %>%
filter(FECHA>=1) %>%
mutate(ANIO=as.factor("2014")) %>%
relocate(ANIO,.before =DIA) %>%
relocate(MES,.before=DIA)%>%
mutate(ACUATICO=NA) %>%
relocate(ACUATICO,.after=NORTE) %>%
mutate(ONLINE=NA,.after=ACUATICO)
#2013
ene_13<-read_excel("data/INGRESO TERMAS GESTION RACEDO/ANIO 2013.xlsx",sheet = 2,range ="A4:H35" )%>%
mutate(MES="ENERO")
feb_13<-read_excel("data/INGRESO TERMAS GESTION RACEDO/ANIO 2013.xlsx",sheet = 3,range ="A4:H35" )%>%
mutate(MES="FEBRERO")
mar_13<-read_excel("data/INGRESO TERMAS GESTION RACEDO/ANIO 2013.xlsx",sheet = 4,range ="A4:H35" )%>%
mutate(MES="MARZO")
abr_13<-read_excel("data/INGRESO TERMAS GESTION RACEDO/ANIO 2013.xlsx",sheet = 5,range ="A4:H35" )%>%
mutate(MES="ABRIL")
may_13<-read_excel("data/INGRESO TERMAS GESTION RACEDO/ANIO 2013.xlsx",sheet = 6,range ="A4:H35" )%>%
mutate(MES="MAYO")
jun_13<-read_excel("data/INGRESO TERMAS GESTION RACEDO/ANIO 2013.xlsx",sheet = 7,range ="A4:H35" )%>%
mutate(MES="JUNIO")
jul_13<-read_excel("data/INGRESO TERMAS GESTION RACEDO/ANIO 2013.xlsx",sheet = 8,range ="A4:H35" )%>%
mutate(MES="JULIO")
ago_13<-read_excel("data/INGRESO TERMAS GESTION RACEDO/ANIO 2013.xlsx",sheet = 9,range ="A4:H35" )%>%
mutate(MES="AGOSTO")
sep_13<-read_excel("data/INGRESO TERMAS GESTION RACEDO/ANIO 2013.xlsx",sheet = 10,range ="A4:H35" )%>%
mutate(MES="SEPTIEMBRE")
oct_13<-read_excel("data/INGRESO TERMAS GESTION RACEDO/ANIO 2013.xlsx",sheet = 11,range ="A4:H35" )%>%
mutate(MES="OCTUBRE")
nov_13<-read_excel("data/INGRESO TERMAS GESTION RACEDO/ANIO 2013.xlsx",sheet = 12,range ="A4:H35" )%>%
mutate(MES="NOVIEMBRE")
dic_13<-read_excel("data/INGRESO TERMAS GESTION RACEDO/ANIO 2013.xlsx",sheet = 13,range ="A4:H35" )%>%
mutate(MES="DICIEMBRE")
A2013<-rbindlist(list(ene_13,feb_13,mar_13,abr_13,may_13,jun_13,jul_13,ago_13,sep_13,oct_13,nov_13,dic_13)) %>%
filter(FECHA>=1) %>%
mutate(ANIO=as.factor("2013")) %>%
relocate(ANIO,.before =DIA) %>%
relocate(MES,.before=DIA)%>%
mutate(ACUATICO=NA) %>%
relocate(ACUATICO,.after=NORTE) %>%
mutate(ONLINE=NA,.after=ACUATICO)
#2012
ene_12<-read_excel("data/INGRESO TERMAS GESTION RACEDO/ANIO 2012.xlsx",sheet = 2,range ="A4:H35" )%>%
mutate(MES="ENERO")
feb_12<-read_excel("data/INGRESO TERMAS GESTION RACEDO/ANIO 2012.xlsx",sheet = 3,range ="A4:H35" )%>%
mutate(MES="FEBRERO")
mar_12<-read_excel("data/INGRESO TERMAS GESTION RACEDO/ANIO 2012.xlsx",sheet = 4,range ="A4:H35" )%>%
mutate(MES="MARZO")
abr_12<-read_excel("data/INGRESO TERMAS GESTION RACEDO/ANIO 2012.xlsx",sheet = 5,range ="A4:H35" )%>%
mutate(MES="ABRIL")
may_12<-read_excel("data/INGRESO TERMAS GESTION RACEDO/ANIO 2012.xlsx",sheet = 6,range ="A4:H35" )%>%
mutate(MES="MAYO")
jun_12<-read_excel("data/INGRESO TERMAS GESTION RACEDO/ANIO 2012.xlsx",sheet = 7,range ="A4:H35" )%>%
mutate(MES="JUNIO")
jul_12<-read_excel("data/INGRESO TERMAS GESTION RACEDO/ANIO 2012.xlsx",sheet = 8,range ="A4:H35" )%>%
mutate(MES="JULIO")
ago_12<-read_excel("data/INGRESO TERMAS GESTION RACEDO/ANIO 2012.xlsx",sheet = 9,range ="A4:H35" )%>%
mutate(MES="AGOSTO")
sep_12<-read_excel("data/INGRESO TERMAS GESTION RACEDO/ANIO 2012.xlsx",sheet = 10,range ="A4:H35" )%>%
mutate(MES="SEPTIEMBRE")
oct_12<-read_excel("data/INGRESO TERMAS GESTION RACEDO/ANIO 2012.xlsx",sheet = 11,range ="A4:H35" )%>%
mutate(MES="OCTUBRE")
nov_12<-read_excel("data/INGRESO TERMAS GESTION RACEDO/ANIO 2012.xlsx",sheet = 12,range ="A4:H35" )%>%
mutate(MES="NOVIEMBRE")
dic_12<-read_excel("data/INGRESO TERMAS GESTION RACEDO/ANIO 2012.xlsx",sheet = 13,range ="A4:H35" )%>%
mutate(MES="DICIEMBRE")
A2012<-rbindlist(list(ene_12,feb_12,mar_12,abr_12,may_12,jun_12,jul_12,ago_12,sep_12,oct_12,nov_12,dic_12)) %>%
filter(FECHA>=1) %>%
mutate(ANIO=as.factor("2012")) %>%
relocate(ANIO,.before =DIA) %>%
relocate(MES,.before=DIA)%>%
mutate(ACUATICO=NA) %>%
relocate(ACUATICO,.after=NORTE) %>%
mutate(ONLINE=NA,.after=ACUATICO)
#2011
#NO HAY DESAGREGADOA NTES DE DIC/2011
dic_11<-read_excel("data/INGRESO TERMAS GESTION RACEDO/ANIO 2011.xlsx",sheet = 2,range ="A4:H35" )%>%
mutate(MES="DICIEMBRE") %>%
filter(FECHA>=1) %>%
mutate(ANIO=as.factor("2011")) %>%
relocate(ANIO,.before =DIA) %>%
relocate(MES,.before=DIA)%>%
mutate(ACUATICO=NA) %>%
relocate(ACUATICO,.after=NORTE) %>%
mutate(ONLINE=NA,.after=ACUATICO)
####pasamos a un unico dataset
TODOCRUDO<-rbindlist(list(dic_11,A2012,A2013,A2014,A2015,A2016,A2017,A2018,A2019,A2020,A2021,A2022,A2023,A2024))
TODO<-TODOCRUDO %>%
mutate(MES= as.factor(MES),
DIA=as.factor(DIA),
TIEMPO=as.factor(TIEMPO),
ONLINE=as.numeric(ONLINE),
LIBERADOS=as.numeric(LIBERADOS)) %>%
select(-NORTE,-ACUATICO,-PRINCIPAL) %>%
rename(TOTAL="POR DIA" ) %>%
mutate(TOTALNETO=TOTAL-LIBERADOS) %>%
relocate(TIEMPO,.after=TOTALNETO) %>%
mutate(ID=row_number())
# Define el vector de etiquetas de los meses
meses <- c(
"ENERO", "FEBRERO", "MARZO", "ABRIL", "MAYO", "JUNIO",
"JULIO", "AGOSTO", "SEPTIEMBRE", "OCTUBRE", "NOVIEMBRE", "DICIEMBRE")
TODO<-TODO %>%
mutate(MES = case_when( MES == "ENERO" ~ 1, MES == "FEBRERO" ~ 2,
MES == "MARZO" ~ 3, MES == "ABRIL" ~ 4,
MES == "MAYO" ~ 5, MES == "JUNIO" ~ 6,
MES == "JULIO" ~ 7, MES == "AGOSTO" ~ 8,
MES == "SEPTIEMBRE" ~ 9, MES == "OCTUBRE" ~ 10,
MES == "NOVIEMBRE" ~ 11, MES == "DICIEMBRE" ~ 12, TRUE ~ NA_real_ ))
# Convierte la columna MES a factor con etiquetas de los meses
TODO<- TODO %>%
mutate(MES = factor(MES, levels = 1:12, labels = meses),
LIBERADOS = ifelse(is.na(LIBERADOS), 0, LIBERADOS),
TOTAL = ifelse(is.na(TOTAL), 0, TOTAL),
TOTALNETO=TOTAL-LIBERADOS)
ingresos_anuales<-TODO%>%
group_by(ANIO) %>%
summarise(ventasNETAS=sum(TOTALNETO),
INGRESOS=sum(TOTAL))
ingresos_mensuales<-TODO%>%
group_by(ANIO,MES) %>%
summarise(ventasNETAS=sum(TOTALNETO),
INGRESOS=sum(TOTAL))
ingresos_mensuales%>%
filter(MES=="DICIEMBRE")
previaje<-read.csv('data/pedido-previaje/loc_origen_destino_mes.csv')
View(previaje)
previaje<-read.csv('data/pedido-previaje/loc_origen_destino_mes.csv',encoding="UTF-8")
previaje %>%
filter(provincia_destino="Entre Ríos")
previaje %>%
filter(provincia_destino=="Entre Ríos") %>%
view()
previaje %>%
filter(provincia_destino=="Entre Ríos") %>%
filter(localidad_destino=="Federacíon") %>%
view()
previaje %>%
filter(provincia_destino=="Entre Ríos") %>%
filter(localidad_destino=="Federación") %>%
view()
destino_fed<-previaje %>%
filter(provincia_destino=="Entre Ríos") %>%
filter(localidad_destino=="Federación") %>%
view()
destino_fed %>%
group_by(localidad_origen) %>%
summarise(total_viajes=sum(viajes),
total_viajeros=sum(viajeros))
destino_fed %>%
group_by(localidad_origen) %>%
summarise(total_viajes=sum(viajes),
total_viajeros=sum(viajeros)) %>%
view()
destino_fed %>%
group_by(localidad_origen) %>%
summarise(total_viajes=sum(viajes),
total_viajeros=sum(viajeros)) %>%
arrange(-total_viajeros)
destino_fed %>%
group_by(localidad_origen) %>%
summarise(total_viajes=sum(viajes),
total_viajeros=sum(viajeros)) %>%
arrange(-total_viajeros) %>%
view()
sum(destino_fed$viajes)
sum(destino_fed$viajeros)
destino_fed %>%
group_by(edicion) %>%
summarise(total_viajes=sum(viajes),
total_viajeros=sum(viajeros))
previaje %>%
filter(localidad_origen="Federación") %>%
sum(viajeros)
previaje %>%
filter(localidad_origen=="Federación") %>%
sum(viajeros)
previaje %>%
filter(localidad_origen=="Federación") %>%
sum(.$viajeros)
previaje %>%
filter(localidad_origen=="Federación") %>%
sum(previaje$viajeros)
previaje %>%
filter(localidad_origen=="Federación")
previaje %>%
filter(localidad_origen=="Federación") %>%
group_by(localidad_origen) %>%
summarise(total_viajes=sum(viajes),
total_viajeros=sum(viajeros)) %>%
view()
#Federaenses que se sirvieron del previaje para vacacionar en la argentina
origen_fed<-previaje %>%
filter(localidad_origen=="Federación") %>%
group_by(localidad_origen) %>%
summarise(total_viajes=sum(viajes),
total_viajeros=sum(viajeros))
unique(destino_fed$mes_inicio)
destino_fed %>%
group_by(edicion) %>%
summarise(meses=unique(mes_inicio))
destino_fed %>%
group_by(edicion) %>%
summarise(meses=unique(mes_inicio)) %>%
view()
destino_fed %>%
group_by(edicion) %>%
summarise(meses=unique(mes_inicio),
total_viajes=sum(viajes),
total_viajeros=sum(viajeros)) %>%
view()
destino_fed %>%
group_by(edicion,mes_inicio) %>%
summarise(
total_viajes=sum(viajes),
total_viajeros=sum(viajeros)) %>%
view()
destino_fed %>%
group_by(mes_inicio) %>%
summarise(
total_viajes=sum(viajes),
total_viajeros=sum(viajeros)) %>%
view()
ingresos_anuales<-TODO%>%
group_by(ANIO) %>%
summarise(ventasNETAS=sum(TOTALNETO),
INGRESOS=sum(TOTAL))
View(ingresos_anuales)
View(ingresos_anuales)
View(ingresos_mensuales)
ingresos_mensuales %>%
filter(MES==c("ENERO",'FEBRERO'))
ingresos_mensuales %>%
filter(MES %in% c("ENERO",'FEBRERO'))
View(A2024)
ingresos_mensuales %>%
filter(MES %in% c("ENERO",'FEBRERO','MARZO','ABRIL','MAYO','JUNIO')) %>%
summarise(total=sum(ventasNETAS)) %>%
view()
ingresos_mensuales %>%
filter(MES %in% c("ENERO",'FEBRERO','MARZO','ABRIL','MAYO','JUNIO')) %>%
view()
ingresos_mensuales %>%
filter(MES %in% c("ENERO",'FEBRERO','MARZO','ABRIL','MAYO','JUNIO')) %>%
group_by(ANIO)
ingresos_mensuales %>%
filter(MES %in% c("ENERO",'FEBRERO','MARZO','ABRIL','MAYO','JUNIO')) %>%
group_by(ANIO) %>%
view()
ingresos_mensuales %>%
filter(MES %in% c("ENERO",'FEBRERO','MARZO','ABRIL','MAYO','JUNIO')) %>%
group_by(ANIO) %>%
summarise(total=sum(ventasNETAS)) %>%
view()
# turistas recibidos por fecha
destino_fed %>%
group_by(mes_inicio) %>%
summarise(
total_viajes=sum(viajes),
total_viajeros=sum(viajeros)) %>%
view()
ingresos_mensuales %>%
filter(MES %in% c("ENERO",'FEBRERO','MARZO','ABRIL','MAYO','JUNIO')) %>%
group_by(ANIO) %>%
summarise(total=sum(ventasNETAS)) %>%
view()
ingresos_mensuales
ingresos_mensuales<-TODO%>%
group_by(ANIO,MES) %>%
summarise(ventasNETAS=sum(TOTALNETO),
INGRESOS=sum(TOTAL))
View(ingresos_mensuales)
View(ingresos_mensuales)
# turistas recibidos por fecha
previaje_por_fecha<-destino_fed %>%
group_by(mes_inicio) %>%
summarise(
total_viajes=sum(viajes),
total_viajeros=sum(viajeros)) %>%
view()
previaje_por_fecha %>%
geom_line(x=mes_inicio,y=total_viajeros)
View(previaje_por_fecha)
previaje_por_fecha %>%
geom_line(x=mes_inicio,y=total_viajeros)
previaje_por_fecha %>%
ggplot()+
geom_line(x=mes_inicio,y=total_viajeros)
ggplot()+
geom_line(previaje_por_fecha,x=mes_inicio,y=total_viajeros)
ggplot()+
geom_line(previaje_por_fecha,x=previaje_por_fecha$mes_inicio,y=total_viajeros)
ggplot()+
geom_line(previaje_por_fecha,x=previaje_por_fecha$mes_inicio,y=previaje_por_fecha$total_viajeros)
ggplot(previaje_por_fecha,aes(x=previaje_por_fecha$mes_inicio,
y=previaje_por_fecha$total_viajeros))+
geom_line()
ggplot(previaje_por_fecha,aes(x=mes_inicio,
y=total_viajeros))+
geom_line()
ggplot(previaje_por_fecha,aes(x=mes_inicio,
y=total_viajeros))+
geom_line(color="#69b3a2", size=2)
ggplot(ingresos_mensuales, aes(x=MES, y=ventasNETAS)) +
geom_bar(stat = "identity")
scipen(999)
option(scipen=999)
options(scipen=999)
ggplot(ingresos_mensuales, aes(x=MES, y=ventasNETAS)) +
geom_bar(stat = "identity")
ingresos_mensuales$fecha<-as.Date(paste(ingresos_mensuales$ANIO,
ingresos_mensuales$MES,
'01',sep = '-'))
ingresos_mensuales$fecha<-as.Date(paste(ingresos_mensuales$ANIO,
ingresos_mensuales$MES,
sep = '-',
format='%Y-%m-%d'))
ingresos_mensuales$mes <- factor(ingresos_mensuales$mes, levels = month.name)
glimpse(ingresos_mensuales)
TODO<-TODOCRUDO %>%
mutate(MES= as.factor(MES),
DIA=as.factor(DIA),
TIEMPO=as.factor(TIEMPO),
ONLINE=as.numeric(ONLINE),
LIBERADOS=as.numeric(LIBERADOS)) %>%
select(-NORTE,-ACUATICO,-PRINCIPAL) %>%
rename(TOTAL="POR DIA" ) %>%
mutate(TOTALNETO=TOTAL-LIBERADOS) %>%
relocate(TIEMPO,.after=TOTALNETO) %>%
mutate(ID=row_number())
TODO<-TODO %>%
mutate(MES = case_when( MES == "ENERO" ~ 1, MES == "FEBRERO" ~ 2,
MES == "MARZO" ~ 3, MES == "ABRIL" ~ 4,
MES == "MAYO" ~ 5, MES == "JUNIO" ~ 6,
MES == "JULIO" ~ 7, MES == "AGOSTO" ~ 8,
MES == "SEPTIEMBRE" ~ 9, MES == "OCTUBRE" ~ 10,
MES == "NOVIEMBRE" ~ 11, MES == "DICIEMBRE" ~ 12, TRUE ~ NA_real_ ))
TODO<- TODO %>%
mutate(MES = factor(MES),
LIBERADOS = ifelse(is.na(LIBERADOS), 0, LIBERADOS),
TOTAL = ifelse(is.na(TOTAL), 0, TOTAL),
TOTALNETO=TOTAL-LIBERADOS)
ingresos_mensuales<-TODO%>%
group_by(ANIO,MES) %>%
summarise(ventasNETAS=sum(TOTALNETO),
INGRESOS=sum(TOTAL))
ingresos_mensuales$fecha<-as.Date(paste(ingresos_mensuales$ANIO,
ingresos_mensuales$MES,
sep = '-',
format='%Y-%m'))
ingresos_mensuales$fecha<-as.Date(paste(ingresos_mensuales$ANIO,
ingresos_mensuales$MES,
sep = '-',
format='%Y-%m'))
ingresos_mensuales$fecha<-as.Date(paste(ingresos_mensuales$ANIO,
ingresos_mensuales$MES,'01',
sep = '-',
format='%Y-%m-%d'))
ggplot(ingresos_mensuales, aes(x=fecha, y=ventasNETAS)) +
geom_bar(stat = "identity")
ingresos_mensuales %>%
filter(MES=='ENERO') %>%
ggplot(ingresos_mensuales, aes(x=fecha, y=ventasNETAS)) +
geom_bar(stat = "identity")
ingresos_mensuales %>%
filter(MES=='ENERO') %>%
ggplot( aes(x=fecha, y=ventasNETAS)) +
geom_bar(stat = "identity")
ingresos_mensuales %>%
filter(MES=='ENERO') %>%
ggplot( aes(x=fecha, y=ventasNETAS)) +
geom_bar()
ingresos_mensuales %>%
filter(MES=='ENERO')
ingresos_mensuales %>%
filter(MES==1) %>%
ggplot( aes(x=fecha, y=ventasNETAS)) +
geom_bar()
ingresos_mensuales %>%
filter(MES==1) %>%
ggplot(aes(x=fecha, y=ventasNETAS)) +
geom_bar(stat = "identity")
ingresos_mensuales %>%
filter(MES %in% c("ENERO",'FEBRERO','MARZO','ABRIL','MAYO','JUNIO')) %>%
group_by(ANIO) %>%
summarise(total=sum(ventasNETAS)) %>%
ggplot(aes(x=fecha, y=ventasNETAS)) +
geom_bar(stat = "identity")
ingresos_mensuales %>%
filter(MES %in% c(1,2,3,4,5,6)) %>%
group_by(ANIO) %>%
summarise(total=sum(ventasNETAS)) %>%
ggplot(aes(x=fecha, y=ventasNETAS)) +
geom_bar(stat = "identity")
ingresos_mensuales %>%
filter(MES<7) %>%
group_by(ANIO) %>%
summarise(total=sum(ventasNETAS)) %>%
ggplot(aes(x=fecha, y=ventasNETAS)) +
geom_bar(stat = "identity")
ingresos_mensuales %>%
filter(MES<7) %>%
group_by(ANIO) %>%
summarise(total=sum(ventasNETAS))
